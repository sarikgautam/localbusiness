
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explore Businesses - FindSAB</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --navy: #0a192f;
            --navy-light: #172a45;
            --navy-lighter: #303c55;
            --accent: #64ffda;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8f9fa;
        }
        
        .navy-bg {
            background-color: var(--navy);
        }
        
        .navy-light-bg {
            background-color: var(--navy-light);
        }
        
        .accent-text {
            color: var(--accent);
        }
        
        .accent-border {
            border-color: var(--accent);
        }
        
        .form-input:focus, .form-select:focus {
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(100, 255, 218, 0.2);
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--navy-light);
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--navy);
        }
        
        /* Loading spinner */
        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 4px solid var(--accent);
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 40px auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Business card hover effect */
        .business-card {
            transition: all 0.3s ease;
        }
        
        .business-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        /* Filter sidebar */
        .filter-sidebar {
            transition: transform 0.3s ease;
        }
        
        .filter-sidebar.hidden-mobile {
            transform: translateX(-100%);
        }
        
        @media (min-width: 768px) {
            .filter-sidebar {
                transform: translateX(0) !important;
            }
        }
        
        /* Language tag */
        .language-tag {
            background-color: rgba(100, 255, 218, 0.15);
            color: var(--navy);
            border: 1px solid var(--accent);
            border-radius: 20px;
            padding: 2px 10px;
            font-size: 0.75rem;
            display: inline-block;
            margin-right: 5px;
            margin-bottom: 5px;
        }
        
        /* Star rating */
        .star-rating {
            color: #ffc107;
        }
        
        /* Pagination button */
        .pagination-btn {
            transition: all 0.2s ease;
        }
        
        .pagination-btn:hover:not(.active) {
            background-color: #e2e8f0;
        }
        
        .pagination-btn.active {
            background-color: var(--navy);
            color: white;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="navy-bg text-white shadow-lg">
        <div class="container mx-auto px-4 py-3 flex flex-wrap items-center justify-between">
            <div class="flex items-center">
                <a href="index.html" class="flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                    </svg>
                    <span class="text-xl font-bold accent-text">Find<span class="text-white">SAB</span></span>
                </a>
            </div>
            
            <nav class="hidden md:flex space-x-6">
                <a href="index.html" class="text-white hover:text-gray-300 transition">Home</a>
                <a href="about.html" class="text-white hover:text-gray-300 transition">About</a>
                <a href="explore.html" class="text-accent font-medium">Explore</a>
                <a href="register.html" class="text-white hover:text-gray-300 transition">Register Business</a>
                <a href="#" class="text-white hover:text-gray-300 transition">Contact</a>
            </nav>
            
            <div class="md:hidden">
                <button id="mobile-menu-button" class="text-white focus:outline-none">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </button>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden navy-light-bg px-4 py-2 md:hidden">
            <a href="index.html" class="block py-2 text-white hover:text-gray-300">Home</a>
            <a href="about.html" class="block py-2 text-white hover:text-gray-300">About</a>
            <a href="explore.html" class="block py-2 text-accent font-medium">Explore</a>
            <a href="register.html" class="block py-2 text-white hover:text-gray-300">Register Business</a>
            <a href="#" class="block py-2 text-white hover:text-gray-300">Contact</a>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="bg-gradient-to-b from-navy to-navy-light text-white py-12">
        <div class="container mx-auto px-4">
            <div class="max-w-4xl mx-auto text-center">
                <h1 class="text-3xl md:text-4xl font-bold mb-4">Explore Businesses</h1>
                <p class="text-xl text-gray-300 mb-8">Find businesses and professionals who speak your language</p>
                
                <!-- Search Bar -->
                <div class="relative">
                    <input type="text" id="search-input" placeholder="Search by business name, type, language, or location..." class="w-full px-5 py-3 rounded-full text-gray-800 focus:outline-none">
                    <button id="search-button" class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-navy-light hover:bg-navy text-white p-2 rounded-full transition">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <div class="container mx-auto px-4 py-8">
        <div class="flex flex-col md:flex-row gap-6">
            <!-- Filter Sidebar (Hidden on mobile by default) -->
            <div id="filter-sidebar" class="filter-sidebar hidden-mobile md:block w-full md:w-64 bg-white rounded-lg shadow-md p-4 md:sticky md:top-4 h-fit">
                <div class="flex justify-between items-center mb-4 md:mb-6">
                    <h2 class="text-lg font-semibold text-gray-800">Filters</h2>
                    <button id="close-filters" class="md:hidden text-gray-500 hover:text-gray-700">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                
                <!-- Business Type Filter -->
                <div class="mb-4">
                    <label for="business-type" class="block text-sm font-medium text-gray-700 mb-1">Business Type</label>
                    <select id="business-type" class="form-select w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none">
                        <option value="">All Types</option>
                        <option value="Restaurant">Restaurant</option>
                        <option value="Healthcare">Healthcare</option>
                        <option value="Education">Education</option>
                        <option value="Retail">Retail</option>
                        <option value="Professional Services">Professional Services</option>
                        <option value="Legal">Legal</option>
                        <option value="Financial">Financial</option>
                        <option value="Technology">Technology</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                
                <!-- Location Filter -->
                <div class="mb-4">
                    <label for="location" class="block text-sm font-medium text-gray-700 mb-1">Location</label>
                    <select id="location" class="form-select w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none">
                        <option value="">All Locations</option>
                        <!-- Will be populated dynamically -->
                    </select>
                </div>
                
                <!-- Language Filter -->
                <div class="mb-4">
                    <label for="language" class="block text-sm font-medium text-gray-700 mb-1">Language</label>
                    <select id="language" class="form-select w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none">
                        <option value="">All Languages</option>
                        <!-- Will be populated dynamically -->
                    </select>
                </div>
                
                <!-- Sort By -->
                <div class="mb-6">
                    <label for="sort-by" class="block text-sm font-medium text-gray-700 mb-1">Sort By</label>
                    <select id="sort-by" class="form-select w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none">
                        <option value="name-asc">Name (A-Z)</option>
                        <option value="name-desc">Name (Z-A)</option>
                        <option value="newest">Newest First</option>
                    </select>
                </div>
                
                <!-- Apply Filters Button -->
                <button id="apply-filters" class="w-full navy-bg text-white py-2 rounded-md hover:bg-navy-light transition">Apply Filters</button>
                
                <!-- Reset Filters Link -->
                <button id="reset-filters" class="w-full text-center text-navy-light hover:text-navy mt-2 text-sm">Reset Filters</button>
            </div>
            
            <!-- Results Section -->
            <div class="flex-1">
                <!-- Mobile Filter Toggle -->
                <div class="md:hidden mb-4">
                    <button id="show-filters" class="flex items-center text-navy-light hover:text-navy">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" />
                        </svg>
                        Show Filters
                    </button>
                </div>
                
                <!-- Results Stats -->
                <div class="flex flex-wrap justify-between items-center mb-4">
                    <p id="results-count" class="text-gray-600">Showing <span id="showing-count">0</span> of <span id="total-count">0</span> businesses</p>
                    <div class="flex items-center">
                        <label for="results-per-page" class="text-sm text-gray-600 mr-2">Show:</label>
                        <select id="results-per-page" class="form-select text-sm px-2 py-1 border border-gray-300 rounded-md focus:outline-none">
                            <option value="10">10</option>
                            <option value="20">20</option>
                            <option value="50">50</option>
                        </select>
                    </div>
                </div>
                
                <!-- Loading Spinner -->
                <div id="loading-spinner" class="spinner"></div>
                
                <!-- No Results Message -->
                <div id="no-results" class="hidden text-center py-12">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto text-gray-400 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <h3 class="text-xl font-semibold text-gray-700 mb-2">No businesses found</h3>
                    <p class="text-gray-500 mb-6">Try adjusting your search or filters to find what you're looking for.</p>
                    <button id="clear-search" class="navy-bg text-white px-4 py-2 rounded-md hover:bg-navy-light transition">Clear Search & Filters</button>
                </div>
                
                <!-- Results Grid -->
                <div id="results-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Business cards will be inserted here dynamically -->
                </div>
                
                <!-- Pagination -->
                <div id="pagination" class="flex justify-center mt-8 space-x-2">
                    <!-- Pagination buttons will be inserted here dynamically -->
                </div>
            </div>
        </div>
    </div>

    <!-- Business Details Modal -->
    <div id="business-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto mx-4">
            <div class="p-6">
                <div class="flex justify-between items-start mb-4">
                    <h2 id="modal-business-name" class="text-2xl font-bold text-gray-800"></h2>
                    <button id="close-modal" class="text-gray-500 hover:text-gray-700">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="md:col-span-2">
                        <div class="mb-6">
                            <span id="modal-business-type" class="inline-block bg-gray-100 text-gray-800 rounded-full px-3 py-1 text-sm font-semibold mr-2"></span>
                            <div id="modal-languages" class="inline-block"></div>
                        </div>
                        
                        <h3 class="text-lg font-semibold mb-2">About</h3>
                        <p id="modal-description" class="text-gray-700 mb-6"></p>
                        
                        <h3 class="text-lg font-semibold mb-2">Business Hours</h3>
                        <div id="modal-hours" class="grid grid-cols-1 md:grid-cols-2 gap-2 mb-6">
                            <!-- Hours will be inserted here dynamically -->
                        </div>
                    </div>
                    
                    <div>
                        <div class="bg-gray-50 p-4 rounded-lg mb-4">
                            <h3 class="text-lg font-semibold mb-3">Contact Information</h3>
                            <div class="space-y-2">
                                <p class="flex items-start">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 mt-0.5 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                    </svg>
                                    <span id="modal-email" class="text-navy-light"></span>
                                </p>
                                <p class="flex items-start">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 mt-0.5 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                                    </svg>
                                    <span id="modal-phone" class="text-navy-light"></span>
                                </p>
                                <p class="flex items-start">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 mt-0.5 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                    </svg>
                                    <span id="modal-address" class="text-navy-light"></span>
                                </p>
                                <p id="modal-website-container" class="flex items-start">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 mt-0.5 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
                                    </svg>
                                    <a id="modal-website" href="#" target="_blank" class="text-navy-light hover:underline"></a>
                                </p>
                            </div>
                        </div>
                        
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h3 class="text-lg font-semibold mb-3">Contact Person</h3>
                            <p id="modal-contact-person" class="font-medium"></p>
                            <p id="modal-contact-position" class="text-gray-600 text-sm"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="navy-bg text-white py-10 mt-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">FindSAB</h3>
                    <p class="text-gray-300">Connecting you with businesses and professionals who speak your language.</p>
                    <div class="mt-4 flex space-x-4">
                        <a href="#" class="text-gray-300 hover:text-white">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/>
                            </svg>
                        </a>
                        <a href="#" class="text-gray-300 hover:text-white">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z"/>
                            </svg>
                        </a>
                        <a href="#" class="text-gray-300 hover:text-white">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                            </svg>
                        </a>
                    </div>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a href="index.html" class="text-gray-300 hover:text-white">Home</a></li>
                        <li><a href="about.html" class="text-gray-300 hover:text-white">About Us</a></li>
                        <li><a href="explore.html" class="text-gray-300 hover:text-white">Explore</a></li>
                        <li><a href="register.html" class="text-gray-300 hover:text-white">Add Your Business</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-4">Categories</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-300 hover:text-white">Restaurants</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white">Healthcare</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white">Education</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white">Retail</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white">Professional</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-4">Contact Us</h3>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 mt-0.5 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                            </svg>
                            <span class="text-gray-300">123 Business Ave, City, Country</span>
                        </li>
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 mt-0.5 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                            </svg>
                            <span class="text-gray-300">info@findsab.com</span>
                        </li>
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 mt-0.5 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                            </svg>
                            <span class="text-gray-300">+1 234 567 890</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-700 mt-8 pt-6 text-center">
                <p class="text-gray-400">&copy; 2023 FindSAB. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Mobile Menu Toggle
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');

        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // Filter Sidebar Toggle (Mobile)
        const filterSidebar = document.getElementById('filter-sidebar');
        const showFiltersBtn = document.getElementById('show-filters');
        const closeFiltersBtn = document.getElementById('close-filters');

        showFiltersBtn.addEventListener('click', () => {
            filterSidebar.classList.remove('hidden-mobile');
        });

        closeFiltersBtn.addEventListener('click', () => {
            filterSidebar.classList.add('hidden-mobile');
        });

        // Business Modal
        const businessModal = document.getElementById('business-modal');
        const closeModalBtn = document.getElementById('close-modal');

        closeModalBtn.addEventListener('click', () => {
            businessModal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        });

        // Close modal when clicking outside
        businessModal.addEventListener('click', (e) => {
            if (e.target === businessModal) {
                businessModal.classList.add('hidden');
                document.body.style.overflow = 'auto';
            }
        });

        // Global variables
        let allBusinesses = [];
        let filteredBusinesses = [];
        let currentPage = 1;
        let resultsPerPage = 10;
        let cities = new Set();
        let languages = new Set();

        // Initialize the page
        document.addEventListener('DOMContentLoaded', () => {
            // Set default results per page
            document.getElementById('results-per-page').value = resultsPerPage;
            
            // Fetch data from Google Sheets
            fetchBusinessData();
            
            // Set up event listeners
            setupEventListeners();
        });

        // Fetch business data from Google Sheets
        async function fetchBusinessData() {
            try {
                // Show loading spinner
                document.getElementById('loading-spinner').style.display = 'block';
                document.getElementById('results-grid').innerHTML = '';
                
                // Fetch data from Google Sheets using the published JSON endpoint
                // For this to work, you need to:
                // 1. In your Google Sheet, go to File > Share > Publish to the web
                // 2. Select the sheet and format as CSV or JSON
                // 3. Click Publish and copy the URL
                
                // The URL will look something like this:
                const url = 'https://script.google.com/macros/s/AKfycbwNG0q3O2bs_3RZGruodJf0PaM28oNOE7nlJ7bvgOHJRGbtL5Wqctzr-F3cClLIF04b-Q/exec';
                
                const response = await fetch(url);
                
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                
                const data = await response.json();
                
                // Process the data
                if (data && data.businesses) {
                    allBusinesses = data.businesses.map(business => {
                        // Format the data as needed
                        return {
                            timestamp: business[0] || '',
                            businessName: business[1] || '',
                            businessType: business[2] || '',
                            contactPerson: business[3] || '',
                            contactPosition: business[4] || '',
                            email: business[5] || '',
                            phone: business[6] || '',
                            address: business[7] || '',
                            city: business[8] || '',
                            state: business[9] || '',
                            zipCode: business[10] || '',
                            country: business[11] || '',
                            website: business[12] || '',
                            languages: business[13] || '',
                            description: business[14] || '',
                            businessHours: business[15] || ''
                        };
                    });
                } else {
                    // If the API doesn't return data in the expected format, use mock data
                    allBusinesses = generateMockBusinessData();
                }
                
                // Process the data
                processBusinessData();
                
                // Hide loading spinner
                document.getElementById('loading-spinner').style.display = 'none';
                
                // Apply initial filters and display results
                applyFilters();
                
            } catch (error) {
                console.error('Error fetching business data:', error);
                
                // If there's an error, use mock data instead
                allBusinesses = generateMockBusinessData();
                processBusinessData();
                
                document.getElementById('loading-spinner').style.display = 'none';
                applyFilters();
            }
        }

        // Process the business data
        function processBusinessData() {
            // Extract unique cities and languages for filters
            allBusinesses.forEach(business => {
                if (business.city) {
                    cities.add(business.city);
                }
                
                if (business.languages) {
                    const languageList = business.languages.split(',').map(lang => lang.trim());
                    languageList.forEach(lang => {
                        if (lang) languages.add(lang);
                    });
                }
            });
            
            // Populate location dropdown
            const locationSelect = document.getElementById('location');
            Array.from(cities).sort().forEach(city => {
                const option = document.createElement('option');
                option.value = city;
                option.textContent = city;
                locationSelect.appendChild(option);
            });
            
            // Populate language dropdown
            const languageSelect = document.getElementById('language');
            Array.from(languages).sort().forEach(language => {
                const option = document.createElement('option');
                option.value = language;
                option.textContent = language;
                languageSelect.appendChild(option);
            });
        }

        // Set up event listeners
        function setupEventListeners() {
            // Search button
            document.getElementById('search-button').addEventListener('click', () => {
                currentPage = 1;
                applyFilters();
            });
            
            // Search input (enter key)
            document.getElementById('search-input').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    currentPage = 1;
                    applyFilters();
                }
            });
            
            // Apply filters button
            document.getElementById('apply-filters').addEventListener('click', () => {
                currentPage = 1;
                applyFilters();
                
                // On mobile, hide the filter sidebar after applying
                if (window.innerWidth < 768) {
                    filterSidebar.classList.add('hidden-mobile');
                }
            });
            
            // Reset filters button
            document.getElementById('reset-filters').addEventListener('click', () => {
                document.getElementById('search-input').value = '';
                document.getElementById('business-type').value = '';
                document.getElementById('location').value = '';
                document.getElementById('language').value = '';
                document.getElementById('sort-by').value = 'name-asc';
                
                currentPage = 1;
                applyFilters();
            });
            
            // Clear search button (on no results)
            document.getElementById('clear-search').addEventListener('click', () => {
                document.getElementById('search-input').value = '';
                document.getElementById('business-type').value = '';
                document.getElementById('location').value = '';
                document.getElementById('language').value = '';
                document.getElementById('sort-by').value = 'name-asc';
                
                currentPage = 1;
                applyFilters();
            });
            
            // Results per page change
            document.getElementById('results-per-page').addEventListener('change', (e) => {
                resultsPerPage = parseInt(e.target.value);
                currentPage = 1;
                applyFilters();
            });
        }

        // Apply filters and search
        function applyFilters() {
            const searchTerm = document.getElementById('search-input').value.toLowerCase();
            const businessType = document.getElementById('business-type').value;
            const location = document.getElementById('location').value;
            const language = document.getElementById('language').value;
            const sortBy = document.getElementById('sort-by').value;
            
            // Filter businesses
            filteredBusinesses = allBusinesses.filter(business => {
                // Search term filter (check multiple fields)
                const matchesSearch = searchTerm === '' || 
                    business.businessName.toLowerCase().includes(searchTerm) ||
                    business.businessType.toLowerCase().includes(searchTerm) ||
                    business.description.toLowerCase().includes(searchTerm) ||
                    business.city.toLowerCase().includes(searchTerm) ||
                    business.languages.toLowerCase().includes(searchTerm);
                
                // Business type filter
                const matchesType = businessType === '' || business.businessType === businessType;
                
                // Location filter
                const matchesLocation = location === '' || business.city === location;
                
                // Language filter
                const matchesLanguage = language === '' || 
                    business.languages.split(',').map(lang => lang.trim()).includes(language);
                
                return matchesSearch && matchesType && matchesLocation && matchesLanguage;
            });
            
            // Sort businesses
            sortBusinesses(sortBy);
            
            // Update results count
            document.getElementById('total-count').textContent = filteredBusinesses.length;
            
            // Display results or no results message
            if (filteredBusinesses.length > 0) {
                document.getElementById('no-results').classList.add('hidden');
                displayResults();
            } else {
                document.getElementById('results-grid').innerHTML = '';
                document.getElementById('pagination').innerHTML = '';
                document.getElementById('no-results').classList.remove('hidden');
                document.getElementById('showing-count').textContent = 0;
            }
        }

        // Sort businesses based on selected option
        function sortBusinesses(sortOption) {
            switch (sortOption) {
                case 'name-asc':
                    filteredBusinesses.sort((a, b) => a.businessName.localeCompare(b.businessName));
                    break;
                case 'name-desc':
                    filteredBusinesses.sort((a, b) => b.businessName.localeCompare(a.businessName));
                    break;
                case 'newest':
                    filteredBusinesses.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
                    break;
                default:
                    filteredBusinesses.sort((a, b) => a.businessName.localeCompare(b.businessName));
            }
        }

        // Display results for the current page
        function displayResults() {
            const resultsGrid = document.getElementById('results-grid');
            resultsGrid.innerHTML = '';
            
            // Calculate pagination
            const totalPages = Math.ceil(filteredBusinesses.length / resultsPerPage);
            const startIndex = (currentPage - 1) * resultsPerPage;
            const endIndex = Math.min(startIndex + resultsPerPage, filteredBusinesses.length);
            
            // Update showing count
            document.getElementById('showing-count').textContent = endIndex - startIndex;
            
            // Display businesses for current page
            for (let i = startIndex; i < endIndex; i++) {
                const business = filteredBusinesses[i];
                const card = createBusinessCard(business, i);
                resultsGrid.appendChild(card);
            }
            
            // Create pagination
            createPagination(totalPages);
        }

        // Create a business card element
        function createBusinessCard(business, index) {
            const card = document.createElement('div');
            card.className = 'business-card bg-white rounded-lg shadow-md overflow-hidden';
            
            // Get first language for highlight
            const firstLanguage = business.languages.split(',')[0].trim();
            
            // Create card content
            card.innerHTML = `
                <div class="p-5">
                    <div class="flex justify-between items-start mb-3">
                        <h3 class="text-lg font-semibold text-gray-800 truncate">${business.businessName}</h3>
                        <span class="text-xs font-medium bg-gray-100 text-gray-800 px-2 py-1 rounded">${business.businessType}</span>
                    </div>
                    
                    <p class="text-gray-600 text-sm mb-4 line-clamp-2" title="${business.description}">${business.description}</p>
                    
                    <div class="flex items-center text-sm text-gray-500 mb-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg>
                        ${business.city}, ${business.state}
                    </div>
                    
                    <div class="mb-4">
                        <span class="language-tag">${firstLanguage}</span>
                        ${business.languages.split(',').length > 1 ? `<span class="text-xs text-gray-500">+${business.languages.split(',').length - 1} more</span>` : ''}
                    </div>
                    
                    <button class="view-details-btn w-full navy-bg text-white py-2 rounded hover:bg-navy-light transition" data-index="${index}">View Details</button>
                </div>
            `;
            
            // Add event listener to the view details button
            card.querySelector('.view-details-btn').addEventListener('click', () => {
                showBusinessDetails(business);
            });
            
            return card;
        }

        // Create pagination controls
        function createPagination(totalPages) {
            const paginationContainer = document.getElementById('pagination');
            paginationContainer.innerHTML = '';
            
            if (totalPages <= 1) return;
            
            // Previous button
            const prevButton = document.createElement('button');
            prevButton.className = `pagination-btn px-3 py-1 rounded ${currentPage === 1 ? 'text-gray-400 cursor-not-allowed' : 'text-gray-700'}`;
            prevButton.innerHTML = `
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
            `;
            prevButton.disabled = currentPage === 1;
            prevButton.addEventListener('click', () => {
                if (currentPage > 1) {
                    currentPage--;
                    displayResults();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            });
            paginationContainer.appendChild(prevButton);
            
            // Page numbers
            const maxButtons = 5;
            let startPage = Math.max(1, currentPage - Math.floor(maxButtons / 2));
            let endPage = Math.min(totalPages, startPage + maxButtons - 1);
            
            if (endPage - startPage + 1 < maxButtons) {
                startPage = Math.max(1, endPage - maxButtons + 1);
            }
            
            // First page button if not in range
            if (startPage > 1) {
                const firstPageBtn = document.createElement('button');
                firstPageBtn.className = 'pagination-btn px-3 py-1 rounded text-gray-700';
                firstPageBtn.textContent = '1';
                firstPageBtn.addEventListener('click', () => {
                    currentPage = 1;
                    displayResults();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
                paginationContainer.appendChild(firstPageBtn);
                
                if (startPage > 2) {
                    const ellipsis = document.createElement('span');
                    ellipsis.className = 'px-2 py-1 text-gray-500';
                    ellipsis.textContent = '...';
                    paginationContainer.appendChild(ellipsis);
                }
            }
            
            // Page buttons
            for (let i = startPage; i <= endPage; i++) {
                const pageBtn = document.createElement('button');
                pageBtn.className = `pagination-btn px-3 py-1 rounded ${i === currentPage ? 'active' : 'text-gray-700'}`;
                pageBtn.textContent = i;
                pageBtn.addEventListener('click', () => {
                    currentPage = i;
                    displayResults();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
                paginationContainer.appendChild(pageBtn);
            }
            
            // Last page button if not in range
            if (endPage < totalPages) {
                if (endPage < totalPages - 1) {
                    const ellipsis = document.createElement('span');
                    ellipsis.className = 'px-2 py-1 text-gray-500';
                    ellipsis.textContent = '...';
                    paginationContainer.appendChild(ellipsis);
                }
                
                const lastPageBtn = document.createElement('button');
                lastPageBtn.className = 'pagination-btn px-3 py-1 rounded text-gray-700';
                lastPageBtn.textContent = totalPages;
                lastPageBtn.addEventListener('click', () => {
                    currentPage = totalPages;
                    displayResults();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
                paginationContainer.appendChild(lastPageBtn);
            }
            
            // Next button
            const nextButton = document.createElement('button');
            nextButton.className = `pagination-btn px-3 py-1 rounded ${currentPage === totalPages ? 'text-gray-400 cursor-not-allowed' : 'text-gray-700'}`;
            nextButton.innerHTML = `
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            `;
            nextButton.disabled = currentPage === totalPages;
            nextButton.addEventListener('click', () => {
                if (currentPage < totalPages) {
                    currentPage++;
                    displayResults();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            });
            paginationContainer.appendChild(nextButton);
        }

        // Show business details in modal
        function showBusinessDetails(business) {
            // Populate modal with business details
            document.getElementById('modal-business-name').textContent = business.businessName;
            document.getElementById('modal-business-type').textContent = business.businessType;
            document.getElementById('modal-description').textContent = business.description;
            document.getElementById('modal-email').textContent = business.email;
            document.getElementById('modal-phone').textContent = business.phone;
            document.getElementById('modal-address').textContent = `${business.address}, ${business.city}, ${business.state} ${business.zipCode}, ${business.country}`;
            document.getElementById('modal-contact-person').textContent = business.contactPerson;
            document.getElementById('modal-contact-position').textContent = business.contactPosition;
            
            // Website (may be empty)
            const websiteContainer = document.getElementById('modal-website-container');
            const websiteLink = document.getElementById('modal-website');
            
            if (business.website && business.website !== 'Not provided') {
                websiteContainer.style.display = 'flex';
                websiteLink.href = business.website.startsWith('http') ? business.website : `https://${business.website}`;
                websiteLink.textContent = business.website;
            } else {
                websiteContainer.style.display = 'none';
            }
            
            // Languages
            const languagesContainer = document.getElementById('modal-languages');
            languagesContainer.innerHTML = '';
            
            business.languages.split(',').forEach(language => {
                const languageTag = document.createElement('span');
                languageTag.className = 'language-tag mr-1';
                languageTag.textContent = language.trim();
                languagesContainer.appendChild(languageTag);
            });
            
            // Business hours
            const hoursContainer = document.getElementById('modal-hours');
            hoursContainer.innerHTML = '';
            
            try {
                const hours = JSON.parse(business.businessHours);
                
                for (const [day, time] of Object.entries(hours)) {
                    const hourItem = document.createElement('div');
                    hourItem.className = 'flex justify-between';
                    hourItem.innerHTML = `
                        <span class="font-medium">${day}:</span>
                        <span class="text-gray-700">${time}</span>
                    `;
                    hoursContainer.appendChild(hourItem);
                }
            } catch (error) {
                // Fallback if hours aren't in JSON format
                hoursContainer.innerHTML = `<p class="text-gray-700">${business.businessHours || 'Hours not provided'}</p>`;
            }
            
            // Show modal
            businessModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden'; // Prevent scrolling behind modal
        }

        // Generate mock business data for demonstration
        function generateMockBusinessData() {
            return [
                {
                    timestamp: '2023-05-15T10:30:00Z',
                    businessName: 'Global Language Center',
                    businessType: 'Education',
                    contactPerson: 'Maria Rodriguez',
                    contactPosition: 'Director',
                    email: 'info@globallanguagecenter.com',
                    phone: '(555) 123-4567',
                    address: '123 Education Ave',
                    city: 'Boston',
                    state: 'MA',
                    zipCode: '02108',
                    country: 'USA',
                    website: 'www.globallanguagecenter.com',
                    languages: 'Spanish, French, Mandarin, Arabic',
                    description: 'A premier language education center offering courses in over 20 languages with native-speaking instructors. We provide both in-person and online classes for all ages and proficiency levels.',
                    businessHours: '{"Monday":"9:00 AM - 8:00 PM","Tuesday":"9:00 AM - 8:00 PM","Wednesday":"9:00 AM - 8:00 PM","Thursday":"9:00 AM - 8:00 PM","Friday":"9:00 AM - 6:00 PM","Saturday":"10:00 AM - 4:00 PM","Sunday":"Closed"}'
                },
                {
                    timestamp: '2023-06-02T14:15:00Z',
                    businessName: 'Sabores Latinos Restaurant',
                    businessType: 'Restaurant',
                    contactPerson: 'Carlos Mendez',
                    contactPosition: 'Owner',
                    email: 'info@saboreslatinos.com',
                    phone: '(555) 234-5678',
                    address: '456 Cuisine Blvd',
                    city: 'Miami',
                    state: 'FL',
                    zipCode: '33130',
                    country: 'USA',
                    website: 'www.saboreslatinos.com',
                    languages: 'Spanish, Portuguese, English',
                    description: 'Authentic Latin American cuisine featuring dishes from Mexico, Colombia, Peru, and Brazil. Our chefs use traditional recipes and fresh ingredients to bring the flavors of Latin America to your table.',
                    businessHours: '{"Monday":"11:00 AM - 10:00 PM","Tuesday":"11:00 AM - 10:00 PM","Wednesday":"11:00 AM - 10:00 PM","Thursday":"11:00 AM - 10:00 PM","Friday":"11:00 AM - 11:00 PM","Saturday":"11:00 AM - 11:00 PM","Sunday":"12:00 PM - 9:00 PM"}'
                },
                {
                    timestamp: '2023-04-10T09:45:00Z',
                    businessName: 'Dr. Li Family Medicine',
                    businessType: 'Healthcare',
                    contactPerson: 'Dr. Wei Li',
                    contactPosition: 'Physician',
                    email: 'appointments@drlifamilymedicine.com',
                    phone: '(555) 345-6789',
                    address: '789 Health Parkway',
                    city: 'San Francisco',
                    state: 'CA',
                    zipCode: '94107',
                    country: 'USA',
                    website: 'www.drlifamilymedicine.com',
                    languages: 'Mandarin, Cantonese, English',
                    description: 'Family medicine practice specializing in comprehensive healthcare for patients of all ages. Dr. Li and her team provide culturally sensitive care with a focus on preventive medicine and chronic disease management.',
                    businessHours: '{"Monday":"8:00 AM - 5:00 PM","Tuesday":"8:00 AM - 5:00 PM","Wednesday":"8:00 AM - 5:00 PM","Thursday":"8:00 AM - 5:00 PM","Friday":"8:00 AM - 3:00 PM","Saturday":"Closed","Sunday":"Closed"}'
                }
            ];
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'94392402c732a81f',t:'MTc0Nzg4MzYzOC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>